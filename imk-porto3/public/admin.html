<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Admin</title>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>
  <div class="container">
    <h1>Dashboard Admin</h1>

    <!-- Tombol Kembali -->
    <a href="index.html" class="back-home">‚Üê Kembali ke Beranda</a>

    <!-- === SECTION: Edit Data Profil === -->
    <section class="section">
      <h2>Edit Data Profil</h2>
      <form id="profile-form">
        <label for="profilePhoto">Foto Profil:</label>
        <input type="file" id="profilePhoto" name="profilePhoto" accept="image/*"/>

        <label for="biodata">Biodata:</label>
        <textarea id="biodata" rows="3"></textarea>

        <label for="skills">Skill Set (pisahkan dengan koma):</label>
        <input type="text" id="skills" placeholder="Contoh: HTML, CSS, JavaScript"/>

        <label for="experience">Pengalaman:</label>
        <textarea id="experience" rows="3"></textarea>

        <label for="organization">Organisasi:</label>
        <textarea id="organization" rows="3"></textarea>

        <label for="activity">Kegiatan:</label>
        <textarea id="activity" rows="3"></textarea>

        <label for="education">Pendidikan (pisahkan dengan koma):</label>
        <input type="text" id="education" />

        <label for="projects">Proyek (pisahkan dengan koma):</label>
        <input type="text" id="projects" />

        <button type="submit">Simpan Perubahan</button>
      </form>
    </section>

    <!-- === SECTION: Tambah Artikel === -->
    <section class="section">
      <h2>Tambah Artikel</h2>
      <form id="article-form">
        <label for="articleTitle">Judul Artikel:</label>
        <input type="text" id="articleTitle" required/>

        <label for="articleImage">URL Gambar atau Upload:</label>
        <input type="url" id="articleImage" placeholder="https://example.com/image.jpg" />

        <label for="articleContent">Isi Artikel:</label>
        <textarea id="articleContent" rows="4" required></textarea>

        <button type="submit">Tambah Artikel</button>
      </form>
    </section>

    <!-- === SECTION: Tabel Pesan Kontak === -->
    <section class="section">
      <h2>Kontak (Raw JSON)</h2>
      <button onclick="loadContactsRaw()" style="margin-bottom: 1em;">Tampilkan Kontak</button>
      <pre id="raw-contact-output" style="background:#f9f9f9; padding:1em; border-radius: 6px;"></pre>
      <script>
        async function loadContactsRaw() {
          const { data: contacts, error } = await supabase
            .from('contacts')
            .select('*');

          const output = document.getElementById('raw-contact-output');

          if (error) {
            output.textContent = 'Gagal mengambil data: ' + JSON.stringify(error, null, 2);
            console.error(error);
            return;
          }

          // Tampilkan data mentah sebagai string JSON
          output.textContent = JSON.stringify(contacts, null, 2);
          }

          if (window.location.pathname.includes('admin.html')) {
            loadContactsRaw();
          }
      </script>
    </section>
  </div>
  
  <script src="./supabase-client.js"></script>
  <script src="./admin.js"></script>
</body>
</html>
