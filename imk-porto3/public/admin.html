<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Admin</title>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>
  <div class="container">
    <h1>Dashboard Admin</h1>

    <!-- Tombol Kembali -->
    <a href="index.html" class="back-home">‚Üê Kembali ke Beranda</a>

    <!-- === SECTION: Edit Data Profil === -->
    <section class="section">
      <h2>Edit Data Profil</h2>
      <form id="profile-form">
        <label for="profilePhoto">Foto Profil:</label>
        <input type="file" id="profilePhoto" name="profilePhoto" accept="image/*"/>

        <label for="biodata">Biodata:</label>
        <textarea id="biodata" rows="3"></textarea>

        <label for="skills">Skill Set (pisahkan dengan koma):</label>
        <input type="text" id="skills" placeholder="Contoh: HTML, CSS, JavaScript"/>

        <label for="experience">Pengalaman:</label>
        <textarea id="experience" rows="3"></textarea>

        <label for="organization">Organisasi:</label>
        <textarea id="organization" rows="3"></textarea>

        <label for="activity">Kegiatan:</label>
        <textarea id="activity" rows="3"></textarea>

        <label for="education">Pendidikan (pisahkan dengan koma):</label>
        <input type="text" id="education" />

        <label for="projects">Proyek (pisahkan dengan koma):</label>
        <input type="text" id="projects" />

        <button type="submit">Simpan Perubahan</button>
      </form>
    </section>

    <!-- === SECTION: Tambah Artikel === -->
    <section class="section">
      <h2>Tambah Artikel</h2>
      <form id="article-form">
        <label for="articleTitle">Judul Artikel:</label>
        <input type="text" id="articleTitle" required/>

        <label for="articleImage">URL Gambar atau Upload:</label>
        <input type="url" id="articleImage" placeholder="https://example.com/image.jpg" />

        <label for="articleContent">Isi Artikel:</label>
        <textarea id="articleContent" rows="4" required></textarea>

        <button type="submit">Tambah Artikel</button>
      </form>
    </section>

    <!-- === SECTION: Tabel Pesan Kontak === -->
    <section class="section">
      <h2>Data Kontak</h2>
      <button onclick="loadContacts()">Tampilkan Kontak</button>
      <pre id="contacts-output" style="background:#f4f4f4; padding: 10px; border: 1px solid #ccc;"></pre>

    </section>
  </div>
  
  <script src="./supabase-client.js"></script>
  <script src="./admin.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabase = supabase.createClient(
    'https://lvobywbpmssawuukzskm.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2b2J5d2JwbXNzYXd1dWt6c2ttIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMTc4MDAsImV4cCI6MjA2NjY5MzgwMH0.Uk4RXPnrQq5wagaBzfPGH3Tf5qexktRIbHs0ovfXWxE'
  );

  async function loadContacts() {
    const { data, error } = await supabase
      .from('contacts')
      .select('*');

    if (error) {
      document.getElementById('contacts-output').innerText = 'Gagal mengambil data: ' + error.message;
      return;
    }

    if (data.length === 0) {
      document.getElementById('contacts-output').innerText = 'Tidak ada data kontak.';
      return;
    }

    document.getElementById('contacts-output').innerText = JSON.stringify(data, null, 2);
  }
</script>
</body>

</body>
</html>
